<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>문서 객체 연습</title>
</head>
<body>
    <table>
        <tr id="image-list-row">
            <td><img></td>
            <td><img></td>
            <td><img></td>
            <td><img></td>
            <td><img></td>
            <td><img></td>
            <td><img></td>
            <td><img></td>
            <td><img></td>
            <td><img></td>
        </tr>
    </table>
    <br>
    <table id="canvas" border="1">
        <tr>
            <td><button id="btn-prev">이전</button></td>
            <td><img></td>
            <td><button id="btn-next">다음</button></td>
        </tr>
    </table>
    
    <script type="text/javascript">
        window.addEventListener('load', function(event) {

            var imgFiles = ["1.jpg", "2.jpg", "3.jpg", "4.jpg", "5.jpg", "6.jpg", "7.jpg", "8.jpg", "9.jpg", "10.jpg"] ;

            var table = document.querySelector("table");
            table.style.margin = "0 auto";

            var images = document.querySelectorAll('#image-list-row img');
            for (var i = 0; i < images.length; i++) {
                images[i].src = `images/${imgFiles[i]}`;
                images[i].style.width = "100px";
                images[i].style.height = "100px";
                images[i].style.border = "solid 1px black"; // <img style='border:solid 1px black'

                images[i].addEventListener('click', function(event) {
                    var image = event.target; // 이벤트 발생 객체
                    currentImg.src = image.src;
                })
            }

            var canvas = document.querySelector('#canvas');
            canvas.style.margin = "0 auto";           

            var currentImg = document.querySelector("#canvas img");
            currentImg.style.width = "500px";
            currentImg.style.height = "500px";            
            currentImg.style.border = "solid 3px blue";

            //////////////////////////////////////////////////

            var currentIdx = 0;

            currentImg.src = images[currentIdx].src;

            var nextBtn = document.querySelector("#btn-next");
            nextBtn.addEventListener("click", function(event) {
                if (currentIdx == images.length - 1) { // 마지막 위치인 경우
                    // 처음으로 돌아가기
                    currentIdx = 0; 
                    // 멈추기
                    // alert("마지막 이미지입니다.");
                    //  return;
                } else {
                    currentIdx++; // == currentIdx = currentIdx + 1 or currentIdx += 1
                }
                //currentImg.src = images[currentIdx].src;            // <img 객체이서 파일 경로 가져오기
                currentImg.src = `images/${imgFiles[currentIdx]}`;  // 이미지파일이름 배열에서 경로 가져오기
            });
            var prevBtn = document.querySelector("#btn-prev");
            prevBtn.addEventListener("click", function(event) {
                images[currentIdx].style.border = 'solid 1px black';
                if (currentIdx == 0) { // 처음 위치인 경우
                    // 마지막으로 돌아가기
                    currentIdx = images.length - 1; 
                    // 멈추기
                    // alert("처음 이미지입니다.");
                    // return;
                } else {
                    currentIdx--; // == currentIdx = currentIdx - 1 or currentIdx -= 1
                }
                //currentImg.src = images[currentIdx].src;            // <img 객체이서 파일 경로 가져오기
                currentImg.src = `images/${imgFiles[currentIdx]}`;  // 이미지파일이름 배열에서 경로 가져오기
                images[currentIdx].style.border = 'solid 3px red';
            });





        });
    </script>
</body>
</html>